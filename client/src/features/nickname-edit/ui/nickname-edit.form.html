<form class="w-full" [formGroup]="formGroup" (ngSubmit)="onUpdateNickname()">
    <div class="relative">
        <input type="text" placeholder="nickname" [maxlength]="userRules.otp.max" class="input input-filled peer"
            id="nicknameInput" formControlName="nickname" />
        <label class="input-filled-label" for="nicknameInput">닉네임</label>
        <span class="input-filled-focused"></span>
    </div>
    <span class="label">
        @if (hasError('nickname', 'required')) {
        <span class="label-text-alt text-primary motion-preset-focus" value="motion-preset-blur-right">닉네임을 입력해
            주세요.</span>
        } @else if(hasError('nickname', 'minlength') || hasError('nickname', 'maxlength')){
        <span class="label-text-alt text-primary motion-preset-focus"
            value="motion-preset-blur-right">{{userRules.nickname.lengthErrMsg}}</span>
        }@else if (hasError('nickname', 'pattern')){
        <span class="label-text-alt text-primary motion-preset-focus"
            value="motion-preset-blur-right">{{userRules.nickname.regexErrMsg}}</span>
        }
    </span>

    <br />
    <div class="flex items-center justify-around w-full gap-4">
        <div class="flex-1">
            <ng-content></ng-content>
        </div>
        <button class="flex-1 btn btn-soft btn-primary h-[3rem] text-xl" [disabled]="isPending() || !formGroup.valid">
            @if (isPending()) {
            <span class="loading loading-spinner motion-preset-focus"></span>
            } @else {
            완료
            }
        </button>
    </div>
</form>